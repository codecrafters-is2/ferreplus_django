<style>
  .carousel-custom-item {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
  .carousel-custom-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>

<script>
  function moveSlide(direction="forwards") {
      slidesWrapper = document.getElementById("carousel-container");
      activeSlide = document.querySelector(".active");
      activeSlideNumber = Number(activeSlide.id);

      if (direction == "forwards") {
        estimatedTarget = activeSlideNumber + 1;
        target = estimatedTarget >= slidesWrapper.children.length ? 0 : estimatedTarget;
      } else if (direction == "backwards") {
        target = activeSlideNumber == 0 ? (slidesWrapper.children.length - 1) : activeSlideNumber - 1;
      }

      targetSlide = document.getElementById(String(target));
      activeSlide.classList.remove("active");
      targetSlide.classList.add("active");
    }

  window.addEventListener('DOMContentLoaded', () => {
    const firstSlide = document.getElementById("0");
    firstSlide.classList.add("active");
  });

</script>

<div id="carouselExampleControls" class="carousel slide w-100" data-ride="carousel" style="width: 100%; height: 100%;">
    <div class="carousel-inner" id="carousel-container" style="width: 100%; height: 100%;">
      {% for image in images %}
        <div class="carousel-item" id="{{ image.number }}" style="position: relative;">
          <img class="d-block w-100" src="{{ image.image.url }}" alt="{{image.title}}">
        </div>
      {% endfor %}
    </div>
    <a class="carousel-control-prev" role="button" data-slide="prev" onclick="moveSlide('backwards')">
      <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: drop-shadow(3px 3px 1px grey)"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" role="button" data-slide="next" onclick="moveSlide('forwards')">
      <span class="carousel-control-next-icon" aria-hidden="true" style="filter: drop-shadow(3px 3px 1px grey)"></span>
      <span class="sr-only">Next</span>
    </a>
</div>